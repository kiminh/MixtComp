
import pyMixtComp
import numpy as np

mu1, sigma1 = 0, 0.5
mu2, sigma2 = 2, 0.5
x1 = np.random.normal(mu1, sigma1, 70)
x2 = np.random.normal(mu2, sigma2, 30)

x = np.concatenate((x1, x2), axis=None)
xStr = [str(i) for i in x]


a1 = np.random.multinomial(1, [0.25, 0.25, 0.25, 0.25], 70)
a2 = np.random.multinomial(1, [0.5, 0.1, 0.1, 0.3], 30)
a = np.concatenate((a1, a2))
aStr = [str(np.where(i == 1)[0][0]+1) for i in a]


data = {
    "gauss": ['-0.06568746106588075', '-0.3884236790975941', '-0.616633315076935', '0.8111609731087044', '0.2757424053540676', '0.44523525374583267', '0.7393779418945341', '0.30835360963547453', '0.04892951788597615', '0.4089491008549766', '0.22498564018008954', '-0.264975453960673', '-0.5527582532961056', '-0.20509503241465882', '0.23280226923620184', '-0.47830968162991144', '-0.16965131394955354', '0.4835288376231248', '-0.774887766715206', '0.34305330284590885', '-1.1189508089199787', '-0.147601686617725', '0.31814936009160283', '1.0111967702421136', '-0.14931502528881238', '-0.3630516511786436', '0.44569410645642826', '-0.04711611112589419', '-0.6909383167044882', '1.029712957414475', '0.17984663039546325', '-0.36619562743050466', '1.1513444596453697', '0.35140032220782597', '-0.5702499628430008', '0.32427609681294584', '0.6360366991167058', '0.21464446999840245', '0.634351587123551', '-0.5582002990392416', '0.35271207864025794', '-0.33052610166871454', '-0.4646822594787792', '0.34121855187740974', '-0.26222762490972923', '0.4581305347304082', '-0.2944360252004345', '-0.21285216727771034', '-0.5095672256866776', '-0.1291144171579355', '-0.23716559574247367', '0.11826454964791631', '0.7280754732829902', '0.2662582386517696', '0.12707173555840814', '0.20787788993393086', '-0.005941179710284541', '1.4919563750232472', '1.102752996622583', '0.3092786556970237', '-0.36960428412330115', '0.05212474278562405', '-0.3673396795628181', '-0.6079493348820435', '0.16263474166394343', '-0.19614870445281876', '-0.3370877287931222', '-0.6457073140142107', '-0.6465874258689907', '0.8417356730292885', '1.1088594910640717', '1.3771786749749535', '1.9064102549033817', '1.6573399001683278', '2.3378181206271256', '2.9837146898553932', '1.7593144003581476', '1.7004398370382434', '1.9056506414844059', '1.8647365528019813', '2.9808534863611875', '1.972937867069905', '2.8989556507878187', '2.0485688575973455', '1.6566110003371322', '1.912738535286866', '1.6841235733191622', '1.6071500621646075', '2.383827134757987', '1.3819461797203705', '1.2777848841614086', '1.8943255029826989', '1.7673799377659551', '1.9384089915371738', '1.4522916020566274', '1.0302631173765908', '2.644120780822504', '1.49362761596077', '1.751297180009319', '1.5996871580592689'],
    "categ": ['4', '2', '3', '3', '2', '4', '3', '2', '1', '3', '4', '2', '2', '2', '2', '4', '4', '4', '4', '4', '3', '1', '4', '1', '2', '2', '1', '3', '2', '4', '3', '4', '2', '2', '1', '2', '2', '4', '1', '2', '4', '1', '3', '4', '3', '4', '4', '3', '3', '4', '3', '4', '4', '3', '2', '4', '4', '3', '2', '4', '2', '4', '4', '1', '2', '4', '2', '1', '3', '4', '4', '4', '1', '1', '2', '1', '4', '1', '4', '4', '1', '1', '4', '4', '1', '1', '1', '1', '4', '1', '4', '1', '4', '4', '2', '4', '4', '1', '1', '4']

}

model = {"gauss": {"type": "Gaussian", "paramStr": ""}, "categ": {"type": "Multinomial", "paramStr": ""}}
algo = {
  "nClass": 2,
  "nInd": 100,
  "nbBurnInIter": 50,
  "nbIter": 50,
  "nbGibbsBurnInIter": 50,
  "nbGibbsIter": 50,
  "nInitPerClass": 10,
  "nSemTry": 10,
  "confidenceLevel": 0.95,
  "ratioStableCriterion": 0.9,
  "nStableCriterion": 7,
  "mode": "learn"
}

res = {}


outLearn = pyMixtComp.pmc(algo, data, model, res)

outPredict = pyMixtComp.pmc(algo, data, model, outLearn)


